<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <title>2025 ç¥çº§å·¥å…·ç½‘ç«™æ¸…å•</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <style>
    body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif;background:#f6f8fa;}
    #lang-switch{position:fixed;top:12px;right:12px;z-index:999;}
    #lang-switch select{padding:6px 10px;font-size:14px;border-radius:6px;border:1px solid #d1d9e0;background:#fff;}
    .markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto;padding:45px;}
    @media(max-width:767px){.markdown-body{padding:15px;}}
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown-light.min.css">
</head>
<body>
  <div id="lang-switch">
    <select id="selectLang" title="åˆ‡æ¢è¯­è¨€"></select>
  </div>
  <article id="content" class="markdown-body"></article>

<script>
/* ===== é…ç½®åŒº ===== */
const LANG_MAP = {
  "zh-CN": { file: "README.md",      name: "ç®€ä½“ä¸­æ–‡" },
  "en":    { file: "README.en.md",   name: "English" },
  "es":    { file: "README.es.md",   name: "EspaÃ±ol" },
  "fr":    { file: "README.fr.md",   name: "FranÃ§ais" },
  "de":    { file: "README.de.md",   name: "Deutsch" },
  "ru":    { file: "README.ru.md",   name: "Ğ ÑƒÑÑĞºĞ¸Ğ¹" },
  "ja":    { file: "README.ja.md",   name: "æ—¥æœ¬èª" },
  "ko":    { file: "README.ko.md",   name: "í•œêµ­ì–´" },
  "pt":    { file: "README.pt.md",   name: "PortuguÃªs" },
  "ar":    { file: "README.ar.md",   name: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©" },
  "hi":    { file: "README.hi.md",   name: "à¤¹à¤¿à¤¨à¥à¤¦à¥€" }
};
/* ===== é€»è¾‘åŒº ===== */
const sel = document.getElementById('selectLang');
const content = document.getElementById('content');
const STORAGE_KEY = 'pref_lang';

// åˆå§‹åŒ–ä¸‹æ‹‰æ¡†
Object.entries(LANG_MAP).forEach(([key, meta]) => {
  const o = document.createElement('option');
  o.value = key;
  o.textContent = meta.name;
  sel.appendChild(o);
});

// è¯»å–ç”¨æˆ·ä¸Šæ¬¡é€‰æ‹© / æµè§ˆå™¨è¯­è¨€
const initLang = localStorage.getItem(STORAGE_KEY)
  || (navigator.language in LANG_MAP ? navigator.language : 'zh-CN');
sel.value = initLang;
loadLang(initLang);

sel.addEventListener('change', e => {
  const lang = e.target.value;
  localStorage.setItem(STORAGE_KEY, lang);
  loadLang(lang);
});

function loadLang(lang){
  const {file} = LANG_MAP[lang];
  fetch(file)
    .then(r => {
      if(!r.ok) throw new Error('404');
      return r.text();
    })
    .then(md => {
      // ç®€å•æŠŠ md è½¬ htmlï¼ˆGitHub è‡ªå·±çš„ css è¶³å¤Ÿå¥½çœ‹ï¼‰
      content.innerHTML = marked.parse(md);
    })
    .catch(() => {
      content.innerHTML = `<h1>ğŸ™ˆ åŠ è½½å¤±è´¥ï¼Œè¯·ç¡®è®¤ ${file} å­˜åœ¨ã€‚</h1>`;
    });
}
</script>
<!-- å¼•å…¥ marked è§£æå™¨ -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</body>
</html>
